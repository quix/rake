<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>rake-0.8.2.rdoc</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
            <div class='name'>rake-0.8.2.rdoc</div>
            <div class='paths'>
              doc/release_notes/rake-0.8.2.rdoc
            </div>
            <div class='last-update'>
              Last Update:
              <span class='datetime'>2011-05-25 01:40:19 -0400</span>
            </div>
          </div>
          <div id='content'>
            <div id='text'>
              <div id='description'>
                <h1><a href="../../../classes/Rake.html">Rake</a> 0.8.2 Released</h1>
                <p>
                <a href="../../../classes/Rake.html">Rake</a> version 0.8.2 is a new
                release of rake that includes a number of new features and numerous bug
                fixes.
                </p>
                <h2>Changes</h2>
                <h3>New Features in Version 0.8.2</h3>
                <ul>
                <li><p>
                Switched from getoptlong to optparse (patches supplied by Edwin Pratomo).
                </p>
                </li>
                <li><p>
                The -T option will now attempt to dynamically sense the size of the
                terminal. The -T output will only self-truncate if the output is a tty.
                However, if RAKE_COLUMNS is explicitly set, it will be honored in any case.
                (Patch provided by Gavin Stark).
                </p>
                </li>
                <li><p>
                The following public methods have been added to rake task objects:
                </p>
                <ul>
                <li><p>
                task.clear &#8212; Clear both the prerequisites and actions of the target
                rake task.
                </p>
                </li>
                </ul>
                <ul>
                <li><p>
                task.clear_prerequisites &#8212; Clear all the existing prerequisites from
                the target rake task.
                </p>
                </li>
                </ul>
                <ul>
                <li><p>
                task.clear_actions &#8212; Clear all the existing actions from the target
                rake task.
                </p>
                </li>
                </ul>
                <ul>
                <li><p>
                task.reenable &#8212; Re-enable a task, allowing its actions to be executed
                again if the task is invoked.
                </p>
                </li>
                </ul>
                </li>
                <li><p>
                Changed RDoc test task to have no default template. This makes it easier
                for the tempate to pick up the template from the environment.
                </p>
                </li>
                <li><p>
                Default values for task arguments can easily be specified with the
                :with_defaults method. (Idea for default argument merging supplied by (Adam
                Q. Salter)
                </p>
                </li>
                </ul>
                <h3>Bug Fixes in Version 0.8.2</h3>
                <ul>
                <li><p>
                Fixed bug in package task so that it will include the subdir directory in
                the package for testing. (Bug found by Adam Majer)
                </p>
                </li>
                <li><p>
                Fixed filename dependency order bug in test_inspect_pending and
                test_to_s_pending. (Bug found by Adam Majer)
                </p>
                </li>
                <li><p>
                Fixed check for file utils options to make them immune to the symbol/string
                differences. (Patch supplied by Edwin Pratomo)
                </p>
                </li>
                <li><p>
                Fixed bug with rules involving multiple source, where only the first
                dependency of a rule has any effect (Patch supplied by Emanuel Indermühle)
                </p>
                </li>
                <li><p>
                FileList#clone and FileList#dup have better sematics w.r.t. taint and
                freeze.
                </p>
                </li>
                <li><p>
                Changed from using Mutex to Monitor. Evidently Mutex causes thread join
                errors when Ruby is compiled with -disable-pthreads. (Patch supplied by
                Ittay Dror)
                </p>
                </li>
                <li><p>
                Fixed bug in makefile parser that had problems with extra spaces in file
                task names. (Patch supplied by Ittay Dror)
                </p>
                </li>
                </ul>
                <h2>Other changes in Version 0.8.2</h2>
                <ul>
                <li><p>
                Added ENV var to rake&#8217;s own Rakefile to prevent OS X from including
                extended attribute junk in the rake package tar file. (Bug found by Adam
                Majer)
                </p>
                </li>
                <li><p>
                Added a performance patch for reading large makefile dependency files.
                (Patch supplied by Ittay Dror)
                </p>
                </li>
                </ul>
                <h2>What is <a href="../../../classes/Rake.html">Rake</a></h2>
                <p>
                <a href="../../../classes/Rake.html">Rake</a> is a build tool similar to
                the make program in many ways. But instead of cryptic make recipes, <a
                href="../../../classes/Rake.html">Rake</a> uses standard Ruby code to
                declare tasks and dependencies. You have the full power of a modern
                scripting language built right into your build tool.
                </p>
                <h2>Availability</h2>
                <p>
                The easiest way to get and install rake is via RubyGems &#8230;
                </p>
                <pre>gem install rake    (you may need root/admin privileges)</pre>
                <p>
                Otherwise, you can get it from the more traditional places:
                </p>
                <table>
                <tr><td valign="top">Home Page</td><td><p>
                <a target="_top" href="http://rake.rubyforge.org/">rake.rubyforge.org/</a>
                </p>
                </td></tr>
                <tr><td valign="top">Download</td><td><p>
                <a
                href="http://rubyforge.org/project/showfiles.php?group_id=50">rubyforge.org/project/showfiles.php?group_id=50</a>
                </p>
                </td></tr>
                </table>
                <h2>Task Argument Examples</h2>
                <p>
                Prior to version 0.8.0, rake was only able to handle command line arguments
                of the form NAME=VALUE that were passed into <a
                href="../../../classes/Rake.html">Rake</a> via the ENV hash.  Many folks
                had asked for some kind of simple command line arguments, perhaps using
                &#8220;&#8212;&#8221; to separate regular task names from argument values
                on the command line.  The problem is that there was no easy way to
                associate positional arguments on the command line with different tasks. 
                Suppose both tasks :a and :b expect a command line argument: does the first
                value go with :a?  What if :b is run first? Should it then get the first
                command line argument.
                </p>
                <p>
                <a href="../../../classes/Rake.html">Rake</a> 0.8.0 solves this problem by
                explicitly passing values directly to the tasks that need them.  For
                example, if I had a release task that required a version number, I could
                say:
                </p>
                <pre>rake release[0.8.2]</pre>
                <p>
                And the string &#8220;0.8.2&#8220; will be passed to the :release task. 
                Multiple arguments can be passed by separating them with a comma, for
                example:
                </p>
                <pre>rake name[john,doe]</pre>
                <p>
                Just a few words of caution.  The rake task name and its arguments need to
                be a single command line argument to rake.  This generally means no spaces.
                If spaces are needed, then the entire rake + argument string should be
                quoted.  Something like this:
                </p>
                <pre>rake &quot;name[billy bob, smith]&quot;</pre>
                <p>
                (Quoting rules vary between operating systems and shells, so make sure you
                consult the proper docs for your OS/shell).
                </p>
                <h3>Tasks that Expect Parameters</h3>
                <p>
                Parameters are only given to tasks that are setup to expect them.  In order
                to handle named parameters, the task declaration syntax for tasks has been
                extended slightly.
                </p>
                <p>
                For example, a task that needs a first name and last name might be declared
                as:
                </p>
                <pre>task :name, :first_name, :last_name</pre>
                <p>
                The first argument is still the name of the task (:name in this case). The
                next to argumements are the names of the parameters expected by :name
                (:first_name and :last_name in the example).
                </p>
                <p>
                To access the values of the paramters, the block defining the task
                behaviour can now accept a second parameter:
                </p>
                <pre>task :name, :first_name, :last_name do |t, args|&#x000A;  puts &quot;First name is #{args.first_name}&quot;&#x000A;  puts &quot;Last  name is #{args.last_name}&quot;&#x000A;end</pre>
                <p>
                The first argument of the block &#8220;t&#8221; is always bound to the
                current task object.  The second argument &#8220;args&#8221; is an
                open-struct like object that allows access to the task arguments.  Extra
                command line arguments to a task are ignored.  Missing command line
                arguments are given the nil value.
                </p>
                <h2>Thanks</h2>
                <p>
                As usual, it was input from users that drove a alot of these changes. The
                following people either contributed patches, made suggestions or made
                otherwise helpful comments.  Thanks to &#8230;
                </p>
                <ul>
                <li><p>
                Edwin Pratomo
                </p>
                </li>
                <li><p>
                Gavin Stark
                </p>
                </li>
                <li><p>
                Adam Q. Salter
                </p>
                </li>
                <li><p>
                Adam Majer
                </p>
                </li>
                <li><p>
                Emanuel Indermühle
                </p>
                </li>
                <li><p>
                Ittay Dror
                </p>
                </li>
                <li><p>
                Bheeshmar Redheendran (for spending an afternoon with me debugging windows
                issues)
                </p>
                </li>
                </ul>
                <p>
                &#8212; Jim Weirich
                </p>
              </div>
              <div id='context'>
              </div>
            </div>
          </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
